<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>伪影真鉴 DeepFake Detection</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Heroicons CDN -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
    {% block extra_head %}{% endblock %}
  </head>
  <body class="bg-gray-50 min-h-screen flex flex-col">
    <!-- Navbar -->
    <nav class="bg-white shadow p-4 relative flex items-center">
      <!-- 左侧logo -->
      <div class="flex items-center gap-2 z-10">
        <i class="fa-solid fa-robot text-indigo-600 text-2xl"></i>
        <span class="font-bold text-xl text-gray-800">伪影真鉴</span>
      </div>
      <!-- 居中链接 -->
      <div class="absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 flex gap-2 items-center">
        <a href="/history/" class="px-3 py-1 rounded-lg text-gray-700 hover:bg-indigo-50 hover:text-indigo-600 transition font-medium {% if request.path == '/history/' %}bg-indigo-100 text-indigo-700{% endif %}">历史记录</a>
        <a href="/" class="px-3 py-1 rounded-lg text-gray-700 hover:bg-indigo-50 hover:text-indigo-600 transition font-medium {% if request.path == '/' %}bg-indigo-100 text-indigo-700{% endif %}">上传检测</a>
        <a href="/realtime_detection/" class="px-3 py-1 rounded-lg text-gray-700 hover:bg-indigo-50 hover:text-indigo-600 transition font-medium {% if request.path == '/realtime_detection/' %}bg-indigo-100 text-indigo-700{% endif %}">实时检测</a>
      </div>
      <!-- 右侧用户区 -->
      <div class="flex gap-2 items-center ml-auto z-10">
        {% if user.is_authenticated %}
          <span class="text-gray-700">{{ user.username }}</span>
          <a href="/custom_auth/logout/" class="px-3 py-1 rounded-lg text-gray-700 hover:bg-red-50 hover:text-red-500 transition font-medium">退出</a>
        {% else %}
          <a href="/accounts/login/" class="px-3 py-1 rounded-lg text-gray-700 hover:bg-indigo-50 hover:text-indigo-600 transition font-medium {% if request.path == '/accounts/login/' or request.path == '/custom_auth/login/' %}bg-indigo-100 text-indigo-700{% endif %}">登录</a>
          <a href="/register/" class="px-3 py-1 rounded-lg text-gray-700 hover:bg-indigo-50 hover:text-indigo-600 transition font-medium {% if request.path == '/register/' %}bg-indigo-100 text-indigo-700{% endif %}">注册</a>
        {% endif %}
      </div>
    </nav>
    <!-- Main Content -->
    <main class="flex-1 container mx-auto px-4 py-8">
      {% block content %}{% endblock %}
    </main>
    <!-- Footer -->
    <footer class="bg-white shadow p-4 text-center text-gray-400 text-sm">
      &copy; 2025 伪影真鉴 DeepFake Detection. All rights reserved.
    </footer>
    {% block extra_body %}{% endblock %}
  </body>
</html> 